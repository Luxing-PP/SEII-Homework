### 开通会员

- post： /api/student/buyVip/{studentid}

应该要加个表？不然动原来的东西可能有问题，笑死

### 给studentid返回是否为会员

- get：/api/studnet/isVip/{studentid}

返回：

{

​	isVip: 0/1 (0表示不是，1表示是)，（这时后端要判断是否已经超过租期）

​	start_time: 开始时间 （若isVip为0，就没有）

​	end_time: 结束时间  （同上）

}

- 这里的可能有两种情况，一是没买过，数据库里没记录，二是买了但是过期了。

### 租用课程

Post：/api/student/rent/{studentid}/{classid}

创建一个order

后端收到请求之后，要自动加入一个当前时间，作为租用的开始时间，然后租期固定一个月，订为结束时间，这应该也要单独一个表

### 查看是否租用指定课程

get ：/api/student/hasrent/{studentid}/{classid}

也是两种情况，第一种查不到，第二种时间过了。

返回： 0代表租，1代表未租。



# 新的建表语句要新建一个sql文件，不要放在原来的sql文件里了

# 以及，数据库密码改一下。

# 最终版本



```java
@GetMapping("/isVip/{student_id}")
public Integer isVip(@PathVariable Integer student_id){
    return vipService.isVip(student_id);
}
```

判断是不是vip

```java
@GetMapping("/student/hasrent/{studentid}/{courseId}")
public Integer HasRentCourse(@PathVariable Integer studentid,@PathVariable Integer courseId){
    return courseRentService.isRent(studentid,courseId);
}
```

判断有没有租用课程

```java
@PostMapping("/create/rent")
public ResultVO<CourseOrderVO> createRentCourseOrder(@RequestParam Integer courseId,@RequestParam Integer uid){
    return orderService.createRentCourseOrder(courseId,uid);
}
@PostMapping("/create/vip")
public ResultVO<CourseOrderVO> createVipOrder(@RequestParam Integer studentId){
    return orderService.createVipOrder(studentId);
}
```

创建租用课程订单和vip订单，在CourseOrderController里
